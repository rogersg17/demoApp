<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test Execution Settings - Demo App</title>
  <meta name="description" content="Configure test execution parameters and preferences for the Demo App test management system.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⚙️</text></svg>">
</head>
<body>
  <header class="header" role="banner">
    <div class="header-left">
      <a href="../tests-management/index.html" class="back-btn">
        <i class="fas fa-arrow-left"></i>
        Back to Test Management
      </a>
      <h1 class="page-title">Test Execution Settings</h1>
    </div>
    <div class="user-info" id="welcomeMessage">Welcome, User!</div>
  </header>

  <main class="main-content">
    <!-- Settings Form -->
    <section class="settings-section" aria-label="Test Execution Configuration">
      <div class="settings-card">
        <div class="card-header">
          <h2><i class="fas fa-cog"></i> Execution Parameters</h2>
          <p>Configure how tests are executed in your environment</p>
        </div>
        
        <form id="settingsForm" class="settings-form">
          <!-- Browser Configuration -->
          <div class="setting-group">
            <h3><i class="fas fa-browser"></i> Browser Configuration</h3>
            <div class="setting-item">
              <label for="defaultBrowser">Default Browser</label>
              <select id="defaultBrowser" name="defaultBrowser">
                <option value="chromium">Chromium</option>
                <option value="firefox">Firefox</option>
                <option value="webkit">WebKit (Safari)</option>
              </select>
              <span class="setting-description">Browser to use for test execution</span>
            </div>
            
            <div class="setting-item">
              <label for="headlessMode">Headless Mode</label>
              <input type="checkbox" id="headlessMode" name="headlessMode" checked>
              <span class="setting-description">Run tests without opening browser windows</span>
            </div>
            
            <div class="setting-item">
              <label for="browserTimeout">Browser Timeout (ms)</label>
              <input type="number" id="browserTimeout" name="browserTimeout" value="30000" min="5000" max="120000" step="1000">
              <span class="setting-description">Maximum time to wait for browser operations</span>
            </div>
          </div>

          <!-- Test Execution -->
          <div class="setting-group">
            <h3><i class="fas fa-play"></i> Test Execution</h3>
            <div class="setting-item">
              <label for="maxRetries">Max Retries</label>
              <input type="number" id="maxRetries" name="maxRetries" value="2" min="0" max="5">
              <span class="setting-description">Number of times to retry failed tests</span>
            </div>
            
            <div class="setting-item">
              <label for="parallelWorkers">Parallel Workers</label>
              <input type="number" id="parallelWorkers" name="parallelWorkers" value="4" min="1" max="16">
              <span class="setting-description">Number of tests to run simultaneously</span>
            </div>
            
            <div class="setting-item">
              <label for="testTimeout">Test Timeout (ms)</label>
              <input type="number" id="testTimeout" name="testTimeout" value="30000" min="5000" max="300000" step="1000">
              <span class="setting-description">Maximum time for individual test execution</span>
            </div>
            
            <div class="setting-item">
              <label for="slowTestThreshold">Slow Test Threshold (ms)</label>
              <input type="number" id="slowTestThreshold" name="slowTestThreshold" value="10000" min="1000" max="60000" step="1000">
              <span class="setting-description">Tests slower than this will be flagged</span>
            </div>
          </div>

          <!-- Reporting & Output -->
          <div class="setting-group">
            <h3><i class="fas fa-chart-bar"></i> Reporting & Output</h3>
            <div class="setting-item">
              <label for="reportFormat">Report Format</label>
              <select id="reportFormat" name="reportFormat">
                <option value="html">HTML Report</option>
                <option value="json">JSON Report</option>
                <option value="junit">JUnit XML</option>
                <option value="line">Line Reporter</option>
              </select>
              <span class="setting-description">Format for test execution reports</span>
            </div>
            
            <div class="setting-item">
              <label for="screenshotMode">Screenshot Mode</label>
              <select id="screenshotMode" name="screenshotMode">
                <option value="only-on-failure">Only on Failure</option>
                <option value="off">Disabled</option>
                <option value="on">Always</option>
              </select>
              <span class="setting-description">When to capture screenshots during tests</span>
            </div>
            
            <div class="setting-item">
              <label for="videoRecording">Video Recording</label>
              <input type="checkbox" id="videoRecording" name="videoRecording">
              <span class="setting-description">Record videos of test execution</span>
            </div>
            
            <div class="setting-item">
              <label for="verboseLogging">Verbose Logging</label>
              <input type="checkbox" id="verboseLogging" name="verboseLogging">
              <span class="setting-description">Enable detailed console output</span>
            </div>
          </div>

          <!-- Environment Variables -->
          <div class="setting-group">
            <h3><i class="fas fa-server"></i> Environment Configuration</h3>
            <div class="setting-item">
              <label for="baseUrl">Base URL</label>
              <input type="url" id="baseUrl" name="baseUrl" value="http://localhost:3000" placeholder="http://localhost:3000">
              <span class="setting-description">Base URL for test environment</span>
            </div>
            
            <div class="setting-item">
              <label for="apiEndpoint">API Endpoint</label>
              <input type="url" id="apiEndpoint" name="apiEndpoint" value="http://localhost:3000/api" placeholder="http://localhost:3000/api">
              <span class="setting-description">API endpoint for backend testing</span>
            </div>
            
            <div class="setting-item">
              <label for="testEnvironment">Test Environment</label>
              <select id="testEnvironment" name="testEnvironment">
                <option value="local">Local Development</option>
                <option value="staging">Staging</option>
                <option value="production">Production</option>
              </select>
              <span class="setting-description">Current testing environment</span>
            </div>
          </div>

          <!-- JIRA Integration -->
          <div class="setting-group">
            <h3><i class="fab fa-jira"></i> JIRA Integration</h3>
            <div class="setting-item">
              <label for="jiraEnabled">Enable JIRA Integration</label>
              <input type="checkbox" id="jiraEnabled" name="jiraEnabled">
              <span class="setting-description">Automatically create/update JIRA issues for test results</span>
            </div>
            
            <div class="setting-item jira-setting" style="display: none;">
              <label for="jiraUrl">JIRA URL</label>
              <input type="url" id="jiraUrl" name="jiraUrl" placeholder="https://your-company.atlassian.net">
              <span class="setting-description">Your JIRA instance URL</span>
            </div>
            
            <div class="setting-item jira-setting" style="display: none;">
              <label for="jiraProject">JIRA Project Key</label>
              <input type="text" id="jiraProject" name="jiraProject" placeholder="TEST" pattern="[A-Z]+" maxlength="10">
              <span class="setting-description">JIRA project key for test issues</span>
            </div>
            
            <div class="setting-item jira-setting" style="display: none;">
              <label for="jiraUsername">JIRA Username</label>
              <input type="email" id="jiraUsername" name="jiraUsername" placeholder="your-email@company.com">
              <span class="setting-description">Your JIRA username/email</span>
            </div>
            
            <div class="setting-item jira-setting" style="display: none;">
              <label for="jiraApiToken">JIRA API Token</label>
              <input type="password" id="jiraApiToken" name="jiraApiToken" placeholder="Enter your JIRA API token">
              <span class="setting-description">API token for JIRA authentication</span>
            </div>
          </div>

          <!-- Advanced Settings -->
          <div class="setting-group">
            <h3><i class="fas fa-tools"></i> Advanced Settings</h3>
            <div class="setting-item">
              <label for="fullyParallel">Fully Parallel</label>
              <input type="checkbox" id="fullyParallel" name="fullyParallel">
              <span class="setting-description">Run tests in parallel across all projects</span>
            </div>
            
            <div class="setting-item">
              <label for="forbidOnly">Forbid test.only</label>
              <input type="checkbox" id="forbidOnly" name="forbidOnly" checked>
              <span class="setting-description">Fail if test.only is found in code</span>
            </div>
            
            <div class="setting-item">
              <label for="updateSnapshots">Update Snapshots</label>
              <select id="updateSnapshots" name="updateSnapshots">
                <option value="missing">Missing Only</option>
                <option value="all">All Snapshots</option>
                <option value="none">Never</option>
              </select>
              <span class="setting-description">When to update visual comparison snapshots</span>
            </div>
            
            <div class="setting-item">
              <label for="ignoreHttpsErrors">Ignore HTTPS Errors</label>
              <input type="checkbox" id="ignoreHttpsErrors" name="ignoreHttpsErrors">
              <span class="setting-description">Ignore SSL certificate errors during tests</span>
            </div>
          </div>

          <!-- Action Buttons -->
          <div class="form-actions">
            <button type="button" id="resetBtn" class="btn btn-secondary">
              <i class="fas fa-undo"></i> Reset to Defaults
            </button>
            <button type="button" id="testConnectionBtn" class="btn btn-info">
              <i class="fas fa-wifi"></i> Test Connection
            </button>
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-save"></i> Save Settings
            </button>
          </div>
        </form>
      </div>
    </section>

    <!-- Status Display -->
    <section class="status-section" aria-label="Configuration Status">
      <div class="status-card">
        <h3><i class="fas fa-info-circle"></i> Configuration Status</h3>
        <div class="status-items">
          <div class="status-item">
            <span class="status-label">Configuration File:</span>
            <span class="status-value" id="configFileStatus">Not loaded</span>
          </div>
          <div class="status-item">
            <span class="status-label">Last Modified:</span>
            <span class="status-value" id="lastModified">Never</span>
          </div>
          <div class="status-item">
            <span class="status-label">Environment:</span>
            <span class="status-value" id="currentEnvironment">Local</span>
          </div>
          <div class="status-item">
            <span class="status-label">JIRA Connection:</span>
            <span class="status-value" id="jiraStatus">Not configured</span>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script src="script.js"></script>
</body>
</html>
